{% extends 'dreams/base.html' %}
{% block title %}管理員儀表板{% endblock %}

{% block content %}
<div class="container py-5">

  <div class="card shadow rounded-4">
    <div class="card-header">
      <h3 class="mb-0 text-white"><i class="fas fa-tools me-2"></i>系統維護面板</h3>
    </div>

    <div class="card-body">
      <div class="row g-4">

        <!-- 用戶總數 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card h-100 d-flex flex-column justify-content-between">
            <div class="card-body text-center">
              <i class="fas fa-users fa-3x text-primary mb-3"></i>
              <h5 class="card-title">用戶總數</h5>
              <p class="fs-2 fw-bold">{{ user_count }}</p>
            </div>
            <div class="card-footer bg-transparent border-0 text-center pb-3">
              <a href="{% url 'manage_users' %}" class="btn btn-outline-primary">
                管理用戶 
              </a>
            </div>
          </div>
        </div>

        <!-- 夢境總數 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card">
            <div class="card-body text-center">
              <i class="fas fa-bed fa-3x text-success mb-3"></i>
              <h5 class="card-title">夢境總數</h5>
              <p class="fs-2 fw-bold">{{ dream_count }}</p>
            </div>

            <div class="card-footer bg-transparent border-0 text-center pb-3">
              <a href="{% url 'manage_dreams' %}" class="btn btn-outline-primary">
                管理夢境
              </a>
            </div>
          </div>
        </div>

        <!-- 貼文總數 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card">
            <div class="card-body text-center">
              <i class="fas fa-file-alt fa-3x text-warning mb-3"></i>
              <h5 class="card-title">貼文總數</h5>
              <p class="fs-2 fw-bold">{{ post_count }}</p>
            </div>
          </div>
        </div>

        <!-- 今日預約 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card">
            <div class="card-body text-center">
              <i class="fas fa-calendar-check fa-3x text-danger mb-3"></i>
              <h5 class="card-title">今日預約</h5>
              <p class="fs-2 fw-bold">{{ appointments_today }}</p>
            </div>
          </div>
        </div>

        <!-- 待審心理師 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card d-flex flex-column justify-content-center">
            <div class="card-body text-center">
              <i class="fas fa-user-md fa-3x text-info mb-3"></i>
              <h5 class="card-title">待審心理師</h5>
              <p class="fs-2 fw-bold">{{ unverified_therapists }}</p>
              <a href="{% url 'manage_therapists' %}" class="btn btn-outline-primary mt-3">前往管理</a>
            </div>
          </div>
        </div>

        <!-- 危險貼文 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card d-flex flex-column justify-content-center">
            <div class="card-body text-center">
              <i class="fas fa-exclamation-triangle fa-3x text-danger mb-3"></i>
              <h5 class="card-title">危險貼文</h5>
              <p class="fs-2 fw-bold">{{ flagged_posts }}</p>
              <a href="{% url 'manage_flagged_posts' %}" class="btn btn-outline-primary mt-3">查看貼文</a>
            </div>
          </div>
        </div>

        <!-- 聊天室訊息 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card d-flex flex-column justify-content-center">
            <div class="card-body text-center">
              <i class="fas fa-comments fa-3x text-secondary mb-3"></i>
              <h5 class="card-title">聊天室訊息</h5>
              <p class="fs-2 fw-bold">{{ total_chat_messages }}</p>
              <a href="{% url 'manage_chat_messages' %}" class="btn btn-outline-primary mt-3">瀏覽訊息</a>
            </div>
          </div>
        </div>

        <!-- 總點券餘額 -->
        <div class="col-md-3 col-sm-6">
          <div class="card dream-card d-flex flex-column justify-content-center">
            <div class="card-body text-center">
              <i class="fas fa-coins fa-3x text-dark mb-3"></i>
              <h5 class="card-title">總點券餘額</h5>
              <p class="fs-2 fw-bold">{{ total_points }}</p>
              <a href="{% url 'manage_points' %}" class="btn btn-outline-primary mt-3">管理點券</a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  
</div>
{% endblock %}
